project:
  name: "Patrimoine Analyzer"
  version: "2.1.0"  # Architecture homogène + custodian unifié + multi-file parsing avec cache

paths:
  sources: "sources/"
  templates: "templates/"
  generated: "generated/"
  logs: "logs/"

normalizer:
  input_file: "manifest.json"  # v2.0: manifest.json remplace patrimoine.md
  output_file: "patrimoine_input.json"
  date_format: "ISO8601"

  # Migration v1→v2: Utiliser tools/generate_manifest.py pour générer manifest.json
  # depuis patrimoine.md existant

analyzer:
  input_file: "patrimoine_input.json"
  output_file: "patrimoine_analysis.json"
  web_research:
    enabled: true
    max_queries: 50
    timeout_seconds: 30
    retry_count: 3
  risk_thresholds:
    concentration_etablissement_critique: 50
    concentration_etablissement_eleve: 30
    concentration_juridiction_critique: 80
    concentration_juridiction_eleve: 60
    liquidite_critique: 5000
    liquidite_faible: 15000

generator:
  input_file: "patrimoine_analysis.json"
  template_file: "rapport_template.html"
  output_prefix: "rapport_"
  date_format: "%Y%m%d_%H%M%S"

logging:
  level: "INFO"
  format: "[%(asctime)s] %(levelname)s: %(message)s"
  date_format: "%Y-%m-%d %H:%M:%S"

analysis:
  config_file: "analysis.yaml"  # Fichier de configuration pour l'analyse

  # v2.0: Le profil est maintenant défini dans manifest.json → profil_investisseur.investissement.profil_risque
  # active_profile_override permet de forcer un profil (pour tests uniquement)
  # Si null ou absent, le profil du manifest est utilisé (comportement recommandé)
  active_profile_override: null  # null = utiliser manifest.json, ou "dynamique"/"equilibre"/"prudent" pour override
